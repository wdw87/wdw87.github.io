---
title: C3P0-0.9.5.4与Mysql8.0.15版本连接的若干问题
date: 2019-03-27 22:07:06
tags:
- 数据库
- c3p0
- mysql
---

## C3P0-0.9.5.4与Mysql8.0.15版本连接的若干问题

#### 异常：

> java.lang.NoClassDefFoundError: **com**/mchange/v2/**ser**/Indirector

c3p0-0.9.2版本后需再导入数据库连接池的辅助包：mchange-commons-java-0.2.3.4.jar

c3p0最新版本下载地址：<https://sourceforge.net/projects/c3p0/

<!-- more -->

#### Mysql8.0版本的driverClass和jdbcUrl与5.0版本的区别

```java
driverClass="com.mysql.cj.jdbc.Driver"
jdbcUrl="jdbc:mysql://localhost/wdw87?useSSL=false&amp;serverTimezone=Hongkong&amp;characterEncoding=utf-8&amp;autoReconnect=true"
```

#### 如果报错：

> [Fatal Error] :6:85: 对实体 "serverTimezone" 的引用必须以 ';' 分隔符结尾。

在c3p0-config.xml中的jdbcUrl中，所有&后加上amp;  ，注意分号，如下：

```xml
  	<property name="driverClass">com.mysql.cj.jdbc.Driver</property>
  	<property name="jdbcUrl">jdbc:mysql://localhost/wdw87?useSSL=false&amp;serverTimezone=Hongkong&amp;characterEncoding=utf-8&amp;autoReconnect=true</property>
  	
```

